(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{14:function(e,t,r){"use strict";(function(e){r.d(t,"b",(function(){return p})),r.d(t,"e",(function(){return O})),r.d(t,"c",(function(){return v})),r.d(t,"d",(function(){return x})),r.d(t,"a",(function(){return g}));var a=r(2),n=r.n(a),c=r(3),s=r(5),i=r(1),u=r(22),o=r(7),l=r(15),d=r(0),b=l.token_key,j=Object(i.createContext)();function p(e){return m(e).userId}function m(t){if(!t)return{};var r=t.split(".")[1],a=e.from(r,"base64").toString("ascii");return JSON.parse(a)}function h(e){return e?("number"!==typeof e&&(e=Number(e)),isNaN(e)?null:new Date(1e3*e)):null}var f=function(){return Object(i.useContext)(j)},O=function(){var e=f(),t=e.token,r=e.user,a=e.ready,n=e.loading,c=e.error,s=e.hasRole;return h(m(t).exp)>=new Date?localStorage.setItem(b,t):(localStorage.removeItem(b),t=null),{token:t,user:r,ready:a,error:c,loading:n,isAuthed:Boolean(t),hasRole:s}},v=function(){return f().login},x=function(){return f().logout},g=function(e){var t=e.children,r=Object(i.useState)(!1),a=Object(s.a)(r,2),l=a[0],p=a[1],f=Object(i.useState)(!1),O=Object(s.a)(f,2),v=O[0],x=O[1],g=Object(i.useState)(""),N=Object(s.a)(g,2),w=N[0],y=N[1],k=Object(i.useState)(localStorage.getItem(b)),S=Object(s.a)(k,2),D=S[0],I=S[1],R=Object(i.useState)(null),T=Object(s.a)(R,2),A=T[0],L=T[1],E=Object(i.useCallback)(function(){var e=Object(c.a)(n.a.mark((function e(t,r){var a,c,s,i,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m(t),c=a.exp,s=a.userId,i=h(c),(l=i>=new Date)?localStorage.setItem(b,t):(localStorage.removeItem(b),t=null),o.b(t),I(t),p(t&&l),r||!l){e.next=11;break}return e.next=10,u.b(s);case 10:r=e.sent;case 11:L(r);case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[]);Object(i.useEffect)((function(){E(D)}),[D,E]);var P=Object(i.useCallback)(function(){var e=Object(c.a)(n.a.mark((function e(t,r){var a,c,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),y(null),e.next=5,u.c(t,r);case 5:return a=e.sent,c=a.token,s=a.user,e.next=10,E(c,s);case 10:if(c){e.next=12;break}return e.abrupt("return",!1);case 12:return e.abrupt("return",!0);case 15:return e.prev=15,e.t0=e.catch(0),console.error(e.t0),y("Login failed, try again"),e.abrupt("return",!1);case 20:return e.prev=20,x(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[0,15,20,23]])})));return function(t,r){return e.apply(this,arguments)}}(),[E]),_=Object(i.useCallback)((function(){E(null,null),localStorage.removeItem(b)}),[E]),B=Object(i.useMemo)((function(){return{token:D,user:A,ready:l,loading:v,error:w,login:P,logout:_}}),[D,A,l,v,w,P,_]);return Object(d.jsx)(j.Provider,{value:B,children:t})}}).call(this,r(34).Buffer)},15:function(e){e.exports=JSON.parse('{"base_url":"http://localhost:9000/api/","token_key":"auth_token","deploy_folder":"musicshare/"}')},17:function(e,t,r){"use strict";var a=r(19),n=r(28),c=r(11),s=r(0),i=["label","type","defaultValue","validation"];t.a=function(e){var t=e.label,r=e.type,u=e.defaultValue,o=e.validation,l=Object(n.a)(e,i),d=Object(c.c)(),b=d.register,j=d.errors;return Object(s.jsxs)("div",{className:"labelinput",children:[Object(s.jsx)("label",{htmlFor:t,children:t}),Object(s.jsx)("input",Object(a.a)(Object(a.a)({},b(t,o)),{},{defaultValue:u,placeholder:t,type:r,id:t,name:t},l)),j[t]&&Object(s.jsx)("div",{"data-cy":"labelinput-error",className:"error",children:j[t].message})]})}},22:function(e,t,r){"use strict";r.d(t,"c",(function(){return u})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return l}));var a=r(2),n=r.n(a),c=r(3),s=r(7),i=r(6),u=function(){var e=Object(c.a)(n.a.mark((function e(t,r){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.post("https://musicshare1.herokuapp.com/api/user/login",{username:t,password:r});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),Object(i.h)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),o=function(){var e=Object(c.a)(n.a.mark((function e(t,r){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.post("https://musicshare1.herokuapp.com/api/user/register",{username:t,password:r});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),Object(i.h)(e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.get("https://musicshare1.herokuapp.com/api/user/onid/".concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),Object(i.h)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},25:function(e,t,r){},26:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r(1),r(87);var a=r(0);function n(){return Object(a.jsx)("div",{className:"navigation",children:Object(a.jsx)("div",{className:"title text",children:"Music Share"})})}},27:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));r(1);var a=r(10),n=(r(88),r(14)),c=r(0);function s(){var e=Object(n.d)();return Object(c.jsxs)("div",{className:"navigation",children:[Object(c.jsx)("div",{className:"title text",children:"Music Share"}),Object(c.jsxs)("div",{className:"navItems",children:[Object(c.jsx)("div",{className:"item1 text",children:Object(c.jsx)(a.b,{to:"/Home",children:"home"})}),Object(c.jsx)("div",{className:"item2 text",onClick:function(t){e()},children:Object(c.jsx)(a.b,{to:"/Login",children:"Logout"})})]})]})}},32:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var a=r(1),n=r(2),c=r.n(n),s=r(3),i=r(11),u=r(17),o=r(10),l=(r(36),r(4)),d=r(14),b=r(0),j={Name:{required:"this is required",minLength:{value:4,message:"Min length is 4"},maxLength:{value:20,message:"Max length is 20"}},Password:{required:"this is required",minLength:{value:4,message:"Min length is 4"},maxLength:{value:20,message:"Max length is 20"}}};function p(){var e=Object(i.b)(),t=e.register,r=e.handleSubmit,n=e.formState.errors,p=e.setError,m=e.reset,h=Object(l.g)(),f=Object(d.e)().isAuthed,O=Object(d.c)();function v(){return(v=Object(s.a)(c.a.mark((function e(t){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.Name,a=t.Password,e.prev=1,e.next=4,O(r,a);case 4:e.sent?h.replace("/Home"):(m(),p("Name",{type:"login",message:"name and password do not match"})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){f&&h.replace("/")}),[f,h]),Object(b.jsx)(i.a,{handleSubmit:r,errors:n,register:t,children:Object(b.jsx)("div",{className:"form",children:Object(b.jsxs)("form",{onSubmit:r((function(e){return v.apply(this,arguments)})),className:"login",children:[Object(b.jsx)(u.a,{label:"Name",type:"text",defaultValue:"","data-cy":"loginName",validation:j.Name,required:!0}),Object(b.jsx)(u.a,{label:"Password",type:"password",defaultValue:"","data-cy":"loginPassword",validation:j.Password,required:!0}),Object(b.jsx)("div",{className:"submitbutton",children:Object(b.jsx)("button",{type:"submit",id:"submitButton","data-cy":"loginSubmit",className:"button",children:"Login"})}),Object(b.jsxs)("p",{className:"text",children:["Don't yet have an account?",Object(b.jsx)("br",{})," Register here:",Object(b.jsx)(o.b,{to:"/Register",children:Object(b.jsx)("button",{type:"button",id:"RegisterPage","data-cy":"visitregisterbtn",className:"button",children:"Register"})})]})]})})})}var m=r(26);function h(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m.a,{}),Object(b.jsx)("div",{className:"pagewrapper","data-cy":"loginpage",children:Object(b.jsx)("div",{children:Object(b.jsx)(p,{})})})]})}},36:function(e,t,r){},47:function(e,t,r){"use strict";(function(e){var a=r(10),n=r(4),c=r(32),s=r(54),i=r(52),u=r(53),o=r(51),l=(r(90),r(14)),d=r(16),b=r(15),j=r(0),p=b.token_key;t.a=function(){function t(){var t=localStorage.getItem(p),r=function(t){if(!t)return{};var r=t.split(".")[1],a=e.from(r,"base64").toString("ascii");return JSON.parse(a)}(t),a=function(e){return e?("number"!==typeof e&&(e=Number(e)),isNaN(e)?null:new Date(1e3*e)):null}(r.exp);return a>=new Date?localStorage.setItem(p,t):(localStorage.removeItem(p),t=null),Boolean(t)}return Object(j.jsxs)(l.a,{children:[Object(j.jsxs)(a.a,{children:[Object(j.jsxs)(d.a,{guards:[function(e,r,a){e.meta.auth?t()?a():a.redirect("/Login"):a()}],children:[Object(j.jsxs)(n.d,{children:[Object(j.jsx)(d.b,{path:"/",exact:!0,component:c.a})," ",Object(j.jsx)(d.b,{path:"/Login",exact:!0,component:c.a})," ",Object(j.jsx)(d.b,{path:"/Register",exact:!0,component:s.a})," ",Object(j.jsx)(d.b,{path:"/Home",exact:!0,component:i.a,meta:{auth:!0}})," ",Object(j.jsx)(d.b,{path:"/Album/:id",exact:!0,component:u.a,meta:{auth:!0}})," ",Object(j.jsx)(d.b,{path:"*",component:o.a})," "]})," "]})," "]})," "]})}}).call(this,r(34).Buffer)},51:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));r(1);var a=r(10),n=r(0);function c(){return Object(n.jsx)("div",{className:"pagewrapper","data-cy":"errorpage",children:Object(n.jsxs)("div",{className:"errorPageWrapper",children:[Object(n.jsx)("div",{className:"errorPageTitle",children:"404"}),Object(n.jsx)("div",{className:"errorPageMessage",children:"an error has occurred"}),Object(n.jsx)(a.b,{to:"/home",children:Object(n.jsx)("div",{className:"errorbtn",children:Object(n.jsx)("button",{type:"button",className:"button",children:"back"})})})]})})}},52:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var a=r(1),n=r(27),c=r(2),s=r.n(c),i=r(3),u=r(5),o=(r(25),r(6)),l=r(4),d=r(0);function b(){var e=Object(l.g)(),t=Object(a.useState)(void 0),r=Object(u.a)(t,2),n=r[0],c=r[1];function b(){return(b=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.b)();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){b.apply(this,arguments)}()}),[]),Object(d.jsx)(d.Fragment,{children:void 0===n?Object(d.jsx)("div",{children:"loading"}):Object(d.jsxs)("div",{className:"BandDiv",children:[Object(d.jsx)("div",{className:"BandTitle text",children:"Muse"}),Object(d.jsx)("div",{className:"bandalbums",children:Object.entries(n).filter((function(e){return"Muse"===e[1].artist})).slice(0,4).map((function(t){return Object(d.jsxs)("div",{className:"band",children:[Object(d.jsx)("div",{className:"image",onClick:function(r){e.replace("/Album/".concat(t[1].albumID))},"data-cy":t[1].name,children:Object(d.jsx)("img",{src:t[1].picture,alt:t[1].name,width:"165",height:"165"})}),Object(d.jsx)("div",{className:"Title",onClick:function(r){e.replace("/Album/".concat(t[1].albumID))},children:Object(d.jsxs)("div",{className:"TitleText text",children:[t[1].artist," - ",t[1].name]})})]},t[1].albumID)}))})]})})}function j(){var e=Object(l.g)(),t=Object(a.useState)(void 0),r=Object(u.a)(t,2),n=r[0],c=r[1];function b(){return(b=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.b)();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){b.apply(this,arguments)}()}),[]),Object(d.jsx)(d.Fragment,{children:void 0===n?Object(d.jsx)("div",{children:"loading"}):Object(d.jsxs)("div",{className:"BandDiv",children:[Object(d.jsx)("div",{className:"BandTitle text",children:"Manic Street Preachers"}),Object(d.jsx)("div",{className:"bandalbums",children:Object.entries(n).filter((function(e){return"Manic Street Preachers"===e[1].artist})).slice(0,4).map((function(t){return Object(d.jsxs)("div",{className:"band",children:[Object(d.jsx)("div",{className:"image",onClick:function(r){e.replace("/Album/".concat(t[1].albumID))},"data-cy":t[1].name,children:Object(d.jsx)("img",{src:t[1].picture,alt:t[1].name,width:"165",height:"165"})}),Object(d.jsx)("div",{className:"Title",onClick:function(r){e.replace("/Album/".concat(t[1].albumID))},children:Object(d.jsxs)("div",{className:"TitleText text",children:[t[1].artist," - ",t[1].name]})})]},t[1].albumID)}))})]})})}function p(){var e=Object(l.g)(),t=Object(a.useState)(void 0),r=Object(u.a)(t,2),n=r[0],c=r[1];function b(){return(b=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.b)();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){b.apply(this,arguments)}()}),[]),Object(d.jsx)(d.Fragment,{children:void 0===n?Object(d.jsx)("div",{children:"loading"}):Object(d.jsxs)("div",{className:"BandDiv",children:[Object(d.jsx)("div",{className:"BandTitle text",children:"Sisters Of Mercy"}),Object(d.jsx)("div",{className:"bandalbums",children:Object.entries(n).filter((function(e){return"Sisters Of Mercy"===e[1].artist})).slice(0,4).map((function(t){return Object(d.jsxs)("div",{className:"band",children:[Object(d.jsx)("div",{className:"image",onClick:function(r){e.replace("/Album/".concat(t[1].albumID))},"data-cy":t[1].name,children:Object(d.jsx)("img",{src:t[1].picture,alt:t[1].name,width:"165",height:"165"})}),Object(d.jsx)("div",{className:"Title",onClick:function(r){e.replace("/Album/".concat(t[1].albumID))},children:Object(d.jsxs)("div",{className:"TitleText text",children:[t[1].artist," - ",t[1].name]})})]},t[1].albumID)}))})]})})}function m(){var e=Object(l.g)(),t=Object(a.useState)(void 0),r=Object(u.a)(t,2),n=r[0],c=r[1];function b(){return(b=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.b)();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){b.apply(this,arguments)}()}),[]),Object(d.jsx)(d.Fragment,{children:void 0===n?Object(d.jsx)("div",{children:"loading"}):Object(d.jsxs)("div",{className:"BandDiv",children:[Object(d.jsx)("div",{className:"BandTitle text",children:"Dragonforce"}),Object(d.jsx)("div",{className:"bandalbums",children:Object.entries(n).filter((function(e){return"Dragonforce"===e[1].artist})).slice(0,4).map((function(t){return Object(d.jsxs)("div",{className:"band",children:[Object(d.jsx)("div",{className:"image",onClick:function(r){e.replace("/Album/".concat(t[1].albumID))},"data-cy":t[1].name,children:Object(d.jsx)("img",{src:t[1].picture,alt:t[1].name,width:"165",height:"165"})}),Object(d.jsx)("div",{className:"Title",onClick:function(r){e.replace("/Album/".concat(t[1].albumID))},children:Object(d.jsxs)("div",{className:"TitleText text",children:[t[1].artist," - ",t[1].name]})})]},t[1].albumID)}))})]})})}function h(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(n.a,{}),Object(d.jsx)("div",{className:"pagewrapper","data-cy":"homepage",children:Object(d.jsxs)("div",{className:"home",children:[Object(d.jsx)(b,{}),Object(d.jsx)(j,{}),Object(d.jsx)(p,{}),Object(d.jsx)(m,{})]})})]})}},53:function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var a=r(1),n=r(2),c=r.n(n),s=r(3),i=r(5),u=(r(89),r(4)),o=r(6),l=r(11),d=r(19),b=r(28),j=r(0),p=["label","type","defaultValue","validation","min","max"],m=function(e){var t=e.label,r=e.type,a=e.defaultValue,n=e.validation,c=e.min,s=e.max,i=Object(b.a)(e,p),u=Object(l.c)(),o=u.register,m=u.errors;return Object(j.jsxs)("div",{className:"labelinput",children:[Object(j.jsx)("label",{htmlFor:t}),Object(j.jsx)("input",Object(d.a)(Object(d.a)({},o(t,n)),{},{defaultValue:a,placeholder:t,type:r,id:t,name:t,min:c,max:s},i)),m[t]&&Object(j.jsx)("div",{"data-cy":"labelinput-error",className:"error",children:m[t].message})]})},h=r(14),f=r(15).token_key;function O(){var e=Object(a.useState)(void 0),t=Object(i.a)(e,2),r=t[0],n=t[1],d=Object(a.useState)(void 0),b=Object(i.a)(d,2),p=b[0],O=b[1],v=Object(a.useState)(void 0),x=Object(i.a)(v,2),g=x[0],N=x[1],w=Object(a.useState)(void 0),y=Object(i.a)(w,2),k=y[0],S=y[1],D=Object(a.useState)(void 0),I=Object(i.a)(D,2),R=I[0],T=I[1],A=Object(a.useState)(void 0),L=Object(i.a)(A,2),E=L[0],P=L[1],_=function(e){var t=e.pathname.split("/");return t[t.length-1]}(Object(u.h)());function B(){return(B=Object(s.a)(c.a.mark((function e(){var t,r,a,s,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=25;break}return e.next=3,Object(o.a)(_);case 3:return t=e.sent,n(t),e.next=7,Object(o.c)(_);case 7:return r=e.sent,O(r),e.next=11,Object(o.d)(_);case 11:return a=e.sent,N(a),e.next=15,Object(o.e)(_);case 15:return s=e.sent,S(s),e.next=19,Object(o.g)(_);case 19:return i=e.sent,T(i),e.next=23,Object(o.f)(_);case 23:u=e.sent,P(u);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){var e=0;if(void 0===E)e="0";else{var t=0,r=0;for(var a in E.data)t+=E.data[r].rating,r+=1;e=Math.floor(t/r)}return e}Object(a.useEffect)((function(){!function(){B.apply(this,arguments)}()}),[]);var F=function(){var e=Object(s.a)(c.a.mark((function e(t){var r,a,n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.albumID,a=t.userID,n=t.rating,s={albumID:r,userID:a,rating:n},e.prev=2,e.abrupt("return",Object(o.i)(s));case 6:throw e.prev=6,e.t0=e.catch(2),console.log(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[2,6]])})));return function(t){return e.apply(this,arguments)}}(),C=Object(l.b)(),q=C.register,V=C.handleSubmit,U=C.formState.errors,H=C.reset,J=C.setError,z=function(){var e=Object(s.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h.b)(localStorage.getItem(f));case 3:return r=e.sent,e.next=6,F({albumID:_,userID:r,rating:parseInt(t.Rating)});case 6:e.sent?window.location.reload():(H(),J("Rating",{type:"Rating",message:"you've already rated this album"}),document.activeElement.blur()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:void 0===r||void 0===g||void 0===E||void 0===p||void 0===k||void 0===R?Object(j.jsx)("div",{children:"loading"}):Object(j.jsxs)("div",{className:"albumdiv",children:[Object(j.jsxs)("div",{className:"section1",children:[Object(j.jsxs)("div",{className:"Album",children:[Object(j.jsx)("div",{className:"artwork",children:Object(j.jsx)("img",{src:r.picture,alt:r.name,width:"220",height:"220","data-cy":_})}),Object(j.jsxs)("div",{className:"details",children:[Object(j.jsxs)("div",{className:"name text",children:[r.artist," - ",r.name]}),Object(j.jsxs)("div",{className:"labels text",children:["labels:",Object.entries(g.data).map((function(e){return Object(j.jsxs)("span",{className:"label text",children:[" "+e[1].labelName,","]},e[1].labelID)}))]}),Object(j.jsxs)("div",{className:"producers text",children:["producers:",Object.entries(k.data).map((function(e){return Object(j.jsxs)("span",{className:"producer text",children:[e[1].producerName,","]}," "+e[1].producerID)}))]}),Object(j.jsxs)("div",{className:"releaseDate text",children:["Release Date:",r.ReleaseDate]}),Object(j.jsxs)("div",{className:"genres text",children:["Genre:",Object.entries(p.data).map((function(e){return Object(j.jsxs)("span",{className:"genre text",children:[" "+e[1].genreName,","]},e[1].genreID)}))]}),Object(j.jsxs)("div",{className:"Format text",children:["Format: ",r.format]}),Object(j.jsxs)("div",{className:"lenght text",children:["length: ",r.length]})]})]}),Object(j.jsxs)("div",{className:"tracks",children:[Object(j.jsx)("div",{className:"trackList text",children:"Track List: "}),Object.entries(R.data).map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"title text",children:e[1].title}),Object(j.jsx)("div",{className:"length text",children:e[1].time})]},e[1].songID)}))]})]}),Object(j.jsxs)("div",{className:"rating text",children:[Object(j.jsxs)("div",{"data-cy":r.name+"Rating",children:["Album Rating: ",M()]}),Object(j.jsx)("div",{className:"ratingBarGreen",children:Object(j.jsx)("div",{className:"green",style:{width:"".concat(M(),"px")}})}),Object(j.jsxs)("div",{className:"ratingFormStart text",children:["Submit your own rating:",Object(j.jsx)(l.a,{handleSubmit:V,errors:U,register:q,children:Object(j.jsx)("div",{className:"ratingFormDiv",children:Object(j.jsxs)("form",{onSubmit:V(z),className:"ratingForm",children:[Object(j.jsx)(m,{label:"Rating",type:"number",defaultValue:"","data-cy":r.name+"RatingInput",min:"0",max:"100"}),Object(j.jsx)("div",{className:"ratingSubmit",children:Object(j.jsx)("button",{type:"submit",id:"submitButton","data-cy":r.name+"RatingSubmit",className:"button",children:"submit"})})]})})})]})]})]})})}var v=r(27);function x(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(v.a,{}),Object(j.jsx)("div",{className:"pagewrapper","data-cy":"albumpage",children:Object(j.jsx)(O,{})})]})}},54:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));r(1);var a=r(2),n=r.n(a),c=r(3),s=r(11),i=r(17),u=r(10),o=(r(36),r(22)),l=r(4),d=r(0),b={Name:{required:"this is required",minLength:{value:4,message:"Min length is 4"},maxLength:{value:20,message:"Max length is 20"}},Password:{required:"this is required",minLength:{value:4,message:"Min length is 4"},maxLength:{value:20,message:"Max length is 20"}},"Repeat password":{required:"this is required",minLength:{value:4,message:"Min length is 4"},maxLength:{value:20,message:"Max length is 20"}}};function j(){var e=Object(l.g)(),t=Object(s.b)(),r=t.register,a=t.handleSubmit,j=t.formState.errors,p=t.setError,m=t.reset;function h(){return(h=Object(c.a)(n.a.mark((function t(r){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.Password===r["Repeat password"]){t.next=7;break}m(),p("Password",{type:"register",message:"passwords do not match"}),p("Repeat password",{type:"register",message:"passwords do not match"}),document.activeElement.blur(),t.next=11;break;case 7:return t.next=9,Object(o.a)(r.Name,r.Password);case 9:t.sent?e.replace("/Login"):(m(),p("Name",{type:"register",message:"username already exists"}),document.activeElement.blur());case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(d.jsx)(s.a,{handleSubmit:a,errors:j,register:r,children:Object(d.jsx)("div",{className:"form",children:Object(d.jsxs)("form",{onSubmit:a((function(e){return h.apply(this,arguments)})),className:"login",children:[Object(d.jsx)(i.a,{label:"Name",type:"text",defaultValue:"","data-cy":"registerName",validation:b.Name,required:!0}),Object(d.jsx)(i.a,{label:"Password",type:"password",defaultValue:"","data-cy":"registerPassword",validation:b.Password,required:!0}),Object(d.jsx)(i.a,{label:"Repeat password",type:"password",defaultValue:"","data-cy":"registerPasswordAgain",validation:b["Repeat password"],required:!0}),Object(d.jsx)("div",{className:"submitbutton",children:Object(d.jsx)("button",{type:"submit",id:"submitButton","data-cy":"registerbtn",className:"button",children:"Register"})}),Object(d.jsxs)("p",{className:"text",children:["Already have an account?",Object(d.jsx)("br",{})," Login here:",Object(d.jsx)(u.b,{to:"/Login",children:Object(d.jsx)("button",{type:"button",id:"RegisterPage",className:"button",children:"Login"})})]})]})})})}var p=r(26);function m(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(p.a,{}),Object(d.jsx)("div",{className:"pagewrapper",children:Object(d.jsx)("div",{"data-cy":"registerpage",children:Object(d.jsx)(j,{})})})]})}},55:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),c=r(46),s=r.n(c),i=r(47),u=r(0);s.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(i.a,{})}),document.getElementById("root"))},6:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"f",(function(){return u})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return d})),r.d(t,"e",(function(){return b})),r.d(t,"g",(function(){return j})),r.d(t,"i",(function(){return p})),r.d(t,"h",(function(){return m}));var a=r(2),n=r.n(a),c=r(3),s=r(7),i=function(){var e=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.get("https://musicshare1.herokuapp.com/api/album");case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:e.prev=7,e.t0=e.catch(0),m(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.get("https://musicshare1.herokuapp.com/api/rating/".concat(t));case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),m(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(c.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.get("https://musicshare1.herokuapp.com/api/album/".concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),m(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.get("https://musicshare1.herokuapp.com/api/genre/".concat(t));case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),m(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.get("https://musicshare1.herokuapp.com/api/label/".concat(t));case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),m(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.get("https://musicshare1.herokuapp.com/api/producer/".concat(t));case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),m(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.get("https://musicshare1.herokuapp.com/api/song/".concat(t));case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),m(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.post("https://musicshare1.herokuapp.com/api/rating",t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),m(e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();function m(e){console.error(e.response),window.alert("error has occurred \n"+JSON.stringify(function(e){var t,r,a;"object"===typeof e&&(null===(t=e.response)||void 0===t?void 0:t.data)&&(r="VALIDATION_FAILED"===(n=e.response.data.code)?"Validation failed":"UNAUTHORIZED"===n?"Not authorized":"FORBIDDEN"===n?"No permission":"NOT_FOUND"===n?"Not found":"Unknown error","object"===typeof(a=e.response.data.message)&&(a=a.message));var n;return{title:r||"Unknown error",message:a||"Oops, something went wrong, try again later!"}}(e)))}},7:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return i}));var a=r(48),n=r.n(a),c=r(15),s=n.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/musicshare",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_BASE_URL||c.base_url,headers:{Authorization:"Bearer ".concat(localStorage.getItem(c.token_key))}}),i=function(e){e?s.defaults.headers.Authorization="Bearer ".concat(e):delete s.defaults.headers.Authorization}},87:function(e,t,r){},88:function(e,t,r){},89:function(e,t,r){},90:function(e,t,r){}},[[55,1,2]]]);
//# sourceMappingURL=main.60d836cf.chunk.js.map